import sys
import os


def get_gnoi_system_stubs():
    """
    Dynamically generates and returns gNOI system stubs for gRPC communication.

    The stubs are generated by the fixture `setup_and_cleanup_protos` and must
    be called inside the tes file to ensure proper setup of the required proto files.

    Returns:
        tuple: A tuple containing `system_pb2_grpc` and `system_pb2` modules.
    """
    PROTO_ROOT = "gnmi/protos"
    sys.path.append(os.path.abspath(PROTO_ROOT))
    from gnoi.system import system_pb2_grpc, system_pb2
    return system_pb2_grpc, system_pb2
