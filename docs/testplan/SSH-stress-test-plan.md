- [Overview](#overview)
    - [Scope](#scope)
- [Test Procedure](#test-procedure)

## Overview
The purpose for this test is to make sure many configuration tasks can be run simultaneously on the DUT without overtaxing the memory or the CPU. In addition, we want to keep track of how many concurrent SSH connections we can have with the DUT. This test also makes sure that memory and cpu usage return to pre-test levels after the configuration tasks are complete.

### Scope
This test was verified on a t0 topology, but should work on any other topology since the only interaction is between the host and the DUT.

## Test Procedure
Part 1:

1. For each command that will be run over the SSH connections, a baseline time is generated by running that command on the DUT. 
2. Start five SSH connections to the DUT
3. Over the five connections, simultaneously and repeatedly perform the following actions
    - Startup BGP connections, then shut them down
    - Shutdown an operating interface and start it back up
    - Configure an acl and then remove it
    - Add a route to the routemap and remove it
    - Add a port channel and remove it
4. Each time a commmand runs, its runtime is compared to its baseline time. If the time exceeds 3 times the baseline, the test fails.
5. Monitor memory and CPU usage over then following 5 minutes
6. If either exceed 90% for 5 seconds or longer, the test fails
7. At the end of the test check if memory or cpu spiked from starting values. If they did check they they dropped from their max values. If they did not, the test fails.

Part 2:

1. Attempt to start 20 SSH connections while monitoring CPU and Memory usage
2. After each SSH session is started, "show mac" is run to ensure the DUT is responding
3. If there is no response the test reports the number of SSH sessions reached
4. At the end of the test check if memory or cpu spiked from starting values. If they did check they they dropped from their max values. If they did not, the test fails.
