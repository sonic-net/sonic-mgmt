- name: Use virtualenv for all Python scripts on Ubuntu 24.04 and newer
  set_fact:
    ansible_python_interpreter: "/usr/bin/python"
  when: host_distribution_version.stdout < "24.04"

- name: Use virtualenv for all Python scripts on Ubuntu 24.04 and newer
  set_fact:
    ansible_python_interpreter: "/tmp/sonic-mgmt-virtualenv/bin/python"
  when: host_distribution_version.stdout >= "24.04"
