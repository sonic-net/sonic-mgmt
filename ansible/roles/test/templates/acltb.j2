{# tor ports #}
{% for ifname, v in minigraph_neighbors.iteritems() %}{% if "T0" in v.name %}{{ '%d' % (alias_reverse_map[ifname]|replace("Ethernet","")|int / 4)}},{% endif %}{% endfor %}

{# spine ports #}
{% for ifname, v in minigraph_neighbors.iteritems() %}{% if "T2" in v.name %}{{ '%d' % (alias_reverse_map[ifname]|replace("Ethernet","")|int / 4)}},{% endif %}{% endfor %}

{# #}
{% for podset in range(0, podset_number) %}
{% for tor in range(0, 15) %}
192.168.{{ podset }}.{{ tor * 16 }}
{% endfor %}
{% endfor %}
{# produced file format #}
{# t, o, r, p, o, r, t, s #}
{# s, p, i, n, e, p, o, r, t, s #}
{# list of ips behind spine ports (need at least three) #}
{# 192.168... - dst ip to ignore #}
{# 192.168... - dst ip to block #}
{# 192.168... - dst ip to permit/deny in priority test #}
